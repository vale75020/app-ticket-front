{"ast":null,"code":"import _classCallCheck from \"/home/valentino/Bureau/app-ticket/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/valentino/Bureau/app-ticket/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/valentino/Bureau/app-ticket/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/valentino/Bureau/app-ticket/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/valentino/Bureau/app-ticket/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/home/valentino/Bureau/app-ticket/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/valentino/Bureau/app-ticket/client/src/components/USERCARDS/UserCards.js\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  font-family: Permanent Marker, cursive;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 0;\\n  display: flex;\\n  flex-wrap: wrap;\\n  min-width: 300px;\\n  margin: 0 auto;\\n  width: 90%;\\n  margin: 0 5%;\\n  justify-content: space-between;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 320px;\\n  margin: 10px auto;\\n  /*display: flex;\\n  flex-wrap: wrap;*/\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\"; //import cardTab from \"../cardTab\";\n\nimport UserCard from \"../USERCARD/UserCard\";\nimport UserLayout from \"../USERLAYOUT/UserLayout\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nvar CellUser = styled.div(_templateObject());\nvar GridUser = styled.div(_templateObject2());\nvar Title = styled.h1(_templateObject3());\n\nvar UserCards =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserCards, _Component);\n\n  function UserCards() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UserCards);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UserCards)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      cards: [],\n      isUser: false\n    };\n\n    _this.handleDelete = function (id) {\n      //console.log(id);\n      axios.delete(\"http://localhost:3333/\".concat(id), {}).then(function (response) {\n        alert(\"card deleted\"); // this.setState({ cards: this.state.cards })\n\n        _this.componentWillMount();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(UserCards, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      axios.get(\"http://localhost:3333/mycards\").then(function (response) {\n        console.log(\"response usercards\", response);\n\n        _this2.setState({\n          cards: response.data\n        });\n\n        localStorage.token && _this2.setState({\n          isUser: true\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } // handleDelete = id => {\n    //   alert(\"card deleted\");\n    //   const cards = this.state.cards.filter(card => card.id !== id);\n    //   this.setState({ cards: cards });\n    // };\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var displayCards = this.state.cards.map(function (card) {\n        return React.createElement(CellUser, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(UserCard, {\n          id: card._id,\n          title: card.title,\n          text: card.text,\n          status: card.status,\n          onDelete: _this3.handleDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }));\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(UserLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"User Cards\"), React.createElement(GridUser, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, displayCards));\n    }\n  }]);\n\n  return UserCards;\n}(Component);\n\nexport { UserCards as default };","map":{"version":3,"sources":["/home/valentino/Bureau/app-ticket/client/src/components/USERCARDS/UserCards.js"],"names":["React","Component","UserCard","UserLayout","axios","styled","CellUser","div","GridUser","Title","h1","UserCards","state","cards","isUser","handleDelete","id","delete","then","response","alert","componentWillMount","catch","error","console","log","get","setState","data","localStorage","token","displayCards","map","card","_id","title","text","status"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,IAAMC,QAAQ,GAAGD,MAAM,CAACE,GAAV,mBAAd;AAOA,IAAMC,QAAQ,GAAGH,MAAM,CAACE,GAAV,oBAAd;AAWA,IAAME,KAAK,GAAGJ,MAAM,CAACK,EAAV,oBAAX;;IAIqBC,S;;;;;;;;;;;;;;;;;UACnBC,K,GAAQ;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,MAAM,EAAE;AAFF,K;;UA0BRC,Y,GAAe,UAAAC,EAAE,EAAI;AACnB;AACAZ,MAAAA,KAAK,CACFa,MADH,iCACmCD,EADnC,GACyC,EADzC,EAEGE,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChBC,QAAAA,KAAK,CAAC,cAAD,CAAL,CADgB,CAEhB;;AACA,cAAKC,kBAAL;AACD,OANH,EAOGC,KAPH,CAOS,UAAAC,KAAK,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OATH;AAUD,K;;;;;;;yCAjCoB;AAAA;;AACnBnB,MAAAA,KAAK,CACFsB,GADH,CACO,+BADP,EAEGR,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChBK,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCN,QAAlC;;AACA,QAAA,MAAI,CAACQ,QAAL,CAAc;AACZd,UAAAA,KAAK,EAAEM,QAAQ,CAACS;AADJ,SAAd;;AAGAC,QAAAA,YAAY,CAACC,KAAb,IAAsB,MAAI,CAACH,QAAL,CAAc;AAAEb,UAAAA,MAAM,EAAE;AAAV,SAAd,CAAtB;AACD,OARH,EASGQ,KATH,CASS,UAAAC,KAAK,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAXH;AAYD,K,CAED;AACA;AACA;AACA;AACA;;;;6BAgBS;AAAA;;AACP,UAAMQ,YAAY,GAAG,KAAKnB,KAAL,CAAWC,KAAX,CAAiBmB,GAAjB,CAAqB,UAAAC,IAAI;AAAA,eAC5C,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,QAAD;AACE,UAAA,EAAE,EAAEA,IAAI,CAACC,GADX;AAEE,UAAA,KAAK,EAAED,IAAI,CAACE,KAFd;AAGE,UAAA,IAAI,EAAEF,IAAI,CAACG,IAHb;AAIE,UAAA,MAAM,EAAEH,IAAI,CAACI,MAJf;AAKE,UAAA,QAAQ,EAAE,MAAI,CAACtB,YALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAD4C;AAAA,OAAzB,CAArB;AAWA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,EAGE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAWgB,YAAX,CAHF,CADF;AAOD;;;;EA5DoC9B,S;;SAAlBU,S","sourcesContent":["import React, { Component } from \"react\";\n//import cardTab from \"../cardTab\";\nimport UserCard from \"../USERCARD/UserCard\";\nimport UserLayout from \"../USERLAYOUT/UserLayout\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\n\nconst CellUser = styled.div`\n  width: 320px;\n  margin: 10px auto;\n  /*display: flex;\n  flex-wrap: wrap;*/\n`;\n\nconst GridUser = styled.div`\n  padding: 0;\n  display: flex;\n  flex-wrap: wrap;\n  min-width: 300px;\n  margin: 0 auto;\n  width: 90%;\n  margin: 0 5%;\n  justify-content: space-between;\n`;\n\nconst Title = styled.h1`\n  font-family: Permanent Marker, cursive;\n`;\n\nexport default class UserCards extends Component {\n  state = {\n    cards: [],\n    isUser: false\n  };\n\n  componentWillMount() {\n    axios\n      .get(\"http://localhost:3333/mycards\")\n      .then(response => {\n        console.log(\"response usercards\", response);\n        this.setState({\n          cards: response.data\n        });\n        localStorage.token && this.setState({ isUser: true });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n\n  // handleDelete = id => {\n  //   alert(\"card deleted\");\n  //   const cards = this.state.cards.filter(card => card.id !== id);\n  //   this.setState({ cards: cards });\n  // };\n\n  handleDelete = id => {\n    //console.log(id);\n    axios\n      .delete(`http://localhost:3333/${id}`, {})\n      .then(response => {\n        alert(\"card deleted\");\n        // this.setState({ cards: this.state.cards })\n        this.componentWillMount();\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    const displayCards = this.state.cards.map(card => (\n      <CellUser>\n        <UserCard\n          id={card._id}\n          title={card.title}\n          text={card.text}\n          status={card.status}\n          onDelete={this.handleDelete}\n        />\n      </CellUser>\n    ));\n    return (\n      <div>\n        <UserLayout />\n        <Title>User Cards</Title>\n        <GridUser>{displayCards}</GridUser>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}